@model FileUploadViewModel

@{
    ViewData["Title"] = "Upload weather data";
}

<form id="uploadForm" asp-action="Upload" enctype="multipart/form-data" method="post">
    <h1 class="text-center" style="margin-top: 10px">Select one or multiple Excel files containing weather data</h1>
    <div style="display: flex; flex-direction: column; align-items: center">
        <input style="margin-top: 10px" asp-for="Files" type="file" accept=".xls, .xlsx, application/vnd.ms-excel" multiple>
        <input id="submitButton" style="margin-top: 15px; width: 16em" type="submit" value="Upload" class="btn btn-primary" />
        <span style="margin-top: 5px" asp-validation-for="Files" class="text-danger"></span>
        <a asp-action="Index" style="margin-top: 5px">Home</a>
    </div>
</form>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script>
    function preventMultipleUpload() {
        $('#uploadForm').submit(function () {
            if ($(this).valid()) {
                $(this).find(':submit').attr('disabled', 'disabled');
            }
        });
    }

    preventMultipleUpload();
</script>